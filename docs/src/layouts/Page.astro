---
import Navigation from '../components/Navigation.astro';
import Layout from '../layouts/Base.astro'
//@ts-ignore
const { items, frontmatter, backHref, className } = Astro.props;
let customLinks = frontmatter?.links || items
let customBackHref = backHref || frontmatter?.backHref
if (customBackHref && customLinks) customLinks = [{ text: '‚Üê Back', href: customBackHref }, ...customLinks]

const response = await fetch('https://unpkg.com/varvara-css@alpha/package.json')
const data = await response.json();
---

<Layout>
  <div class="px-4 grid grid-cols-[280px_1fr] grid-rows-[auto_auto_1fr] min-h-screen gap-8 max-w-7xl mx-auto">
    <div class="col-start-1 row-start-1 relative z-10 bg-grid-left bg-grid-right">
      <div class="flex flex-col !sticky top-0">
        <header class="h-16 px-1 flex items-center">
          <a href="/" class="flex items-center gap-4">
            <div class="v-shape">
              <span></span>
              <span></span>
            </div>
            <div  class="grid grid-flow-row">
              <span class="font-bold leading-none">varvara-css</span>
              <span class="leading-none text-xs">{data.version}</span>
            </div>
          </a>
        </header>
        <Navigation items={customLinks} />
      </div>
    </div>
    <main class={`bg-grid-left bg-grid-right ${className}`} role="main">
      <slot />
    </main>
  </div>
</Layout>
